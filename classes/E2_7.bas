USEVAR C_RAM
GOSUB INIT_C
END

LABEL INIT_C
  DIM C_RAM(31)
  REM ram vectors
  POKE32 DATAADDRESS(C_FUNCTIONS)+1852,C_RAM+0
  POKE32 DATAADDRESS(C_FUNCTIONS)+1984,C_RAM+28
  POKE32 DATAADDRESS(C_FUNCTIONS)+1988,C_RAM+44
  POKE32 DATAADDRESS(C_FUNCTIONS)+1992,C_RAM+60
  POKE32 DATAADDRESS(C_FUNCTIONS)+1996,C_RAM+76
  POKE32 DATAADDRESS(C_FUNCTIONS)+2000,C_RAM+92
  POKE32 DATAADDRESS(C_FUNCTIONS)+2004,C_RAM+108
  POKE32 DATAADDRESS(C_FUNCTIONS)+2080,C_RAM+28
  POKE32 DATAADDRESS(C_FUNCTIONS)+2156,C_RAM+44
  POKE32 DATAADDRESS(C_FUNCTIONS)+2160,C_RAM+76
  POKE32 DATAADDRESS(C_FUNCTIONS)+2236,C_RAM+44
  POKE32 DATAADDRESS(C_FUNCTIONS)+2240,C_RAM+76
  POKE32 DATAADDRESS(C_FUNCTIONS)+2316,C_RAM+60
  POKE32 DATAADDRESS(C_FUNCTIONS)+3308,C_RAM+0
  REM rodata vectors
  REM ram function vectors
  REM callback function vectors
  REM Initialize C global variables
  GOSUB C_MACHIKANIA_INIT
RETURN

ALIGN4
LABEL C_EPD_2IN7_INIT
  EXEC $68f0,$6931,$6972,$69b3,$f000,$f83a,$bd00,$46c0
LABEL C_EPD_2IN7_CLEAR
  EXEC $68f0,$6931,$6972,$69b3,$f000,$f8b6,$bd00,$46c0
LABEL C_EPD_2IN7_DISPLAY
  EXEC $68f0,$6931,$6972,$69b3,$f000,$f916,$bd00,$46c0
LABEL C_EPD_2IN7_SLEEP
  EXEC $68f0,$6931,$6972,$69b3,$f000,$f98c,$bd00,$46c0
LABEL C_EPD_2IN7_INIT_4GRAY
  EXEC $68f0,$6931,$6972,$69b3,$f000,$f99a,$bd00,$46c0
LABEL C_EPD_2IN7_4GRAYDISPLAY
  EXEC $68f0,$6931,$6972,$69b3,$f000,$fa26,$bd00,$46c0
LABEL C_MACHIKANIA_INIT
  EXEC $68f0,$6931,$6972,$69b3,$f000,$fb9a,$bd00,$46c0
LABEL C_DEV_GPIO_INIT
  EXEC $68f0,$6931,$6972,$69b3,$f000,$fba2,$bd00,$46c0

REM 3592 bytes
LABEL C_FUNCTIONS
EXEC $b580,$af00,$f000,$fbe8,$2001,$f000,$fc0b,$2003,$f000,$fc30,$2000,$f000,$fc2d,$202b,$f000,$fc2a,
     $202b,$f000,$fc27,$2009,$f000,$fc24,$2006,$f000,$fbf9,$2007,$f000,$fc1e,$2007,$f000,$fc1b,$2017,
     $f000,$fc18,$20f8,$f000,$fbed,$2060,$f000,$fc12,$20a5,$f000,$fc0f,$20f8,$f000,$fbe4,$2089,$f000,
     $fc09,$20a5,$f000,$fc06,$20f8,$f000,$fbdb,$2090,$f000,$fc00,$2000,$f000,$fbfd,$20f8,$f000,$fbd2,
     $2093,$f000,$fbf7,$202a,$f000,$fbf4,$20f8,$f000,$fbc9,$20a0,$f000,$fbee,$20a5,$f000,$fbeb,$20f8,
     $f000,$fbc0,$20a1,$f000,$fbe5,$2000,$f000,$fbe2,$20f8,$f000,$fbb7,$2073,$f000,$fbdc,$2041,$f000,
     $fbd9,$2016,$f000,$fbae,$2000,$f000,$fbd3,$2004,$f000,$fba8,$f000,$fbf6,$2000,$f000,$fba3,$20af,
     $f000,$fbc8,$2030,$f000,$fb9d,$203a,$f000,$fbc2,$2082,$f000,$fb97,$2012,$f000,$fbbc,$f000,$fc08,
     $46c0,$46bd,$bd80,$b580,$b580,$b084,$af00,$1dbb,$2216,$801a,$1d3b,$2284,$0052,$801a,$2010,$f000,
     $fb81,$230e,$18fb,$2200,$801a,$e01a,$230c,$18fb,$2200,$801a,$e008,$20ff,$f000,$fb9c,$210c,$187b,
     $881a,$187b,$3201,$801a,$230c,$18fa,$1dbb,$8812,$881b,$429a,$d3ef,$210e,$187b,$881a,$187b,$3201,
     $801a,$230e,$18fa,$1d3b,$8812,$881b,$429a,$d3dd,$2013,$f000,$fb57,$230a,$18fb,$2200,$801a,$e01a,
     $2308,$18fb,$2200,$801a,$e008,$20ff,$f000,$fb72,$2108,$187b,$881a,$187b,$3201,$801a,$2308,$18fa,
     $1dbb,$8812,$881b,$429a,$d3ef,$210a,$187b,$881a,$187b,$3201,$801a,$230a,$18fa,$1d3b,$8812,$881b,
     $429a,$d3dd,$2012,$f000,$fb2d,$f000,$fb7b,$46c0,$46bd,$b004,$bd80,$b590,$b590,$b087,$af00,$6078,
     $230e,$18fb,$2216,$801a,$230c,$18fb,$2284,$0052,$801a,$2010,$f000,$fb16,$2316,$18fb,$2200,$801a,
     $e01b,$2314,$18fb,$2200,$801a,$e008,$20ff,$f000,$fb31,$2114,$187b,$881a,$187b,$3201,$801a,$2314,
     $18fa,$230e,$18fb,$8812,$881b,$429a,$d3ee,$2116,$187b,$881a,$187b,$3201,$801a,$2316,$18fa,$230c,
     $18fb,$8812,$881b,$429a,$d3db,$2013,$f000,$faea,$2312,$18fb,$2200,$801a,$e029,$2310,$18fb,$2200,
     $801a,$e016,$2410,$193b,$881a,$2312,$18fb,$881b,$210e,$1879,$8809,$434b,$18d3,$001a,$687b,$189b,
     $781b,$0018,$f000,$faf6,$193b,$881a,$193b,$3201,$801a,$2310,$18fa,$230e,$18fb,$8812,$881b,$429a,
     $d3e0,$2112,$187b,$881a,$187b,$3201,$801a,$2312,$18fa,$230c,$18fb,$8812,$881b,$429a,$d3cd,$2012,
     $f000,$fab0,$f000,$fafe,$46c0,$46bd,$b007,$bd90,$0000,$b590,$b580,$af00,$2050,$f000,$faa3,$20f7,
     $f000,$fac8,$2002,$f000,$fa9d,$2007,$f000,$fa9a,$20a5,$f000,$fabf,$46c0,$46bd,$bd80,$b580,$af00,
     $b580,$af00,$f000,$fa68,$2001,$f000,$fa8b,$2003,$f000,$fab0,$2000,$f000,$faad,$202b,$f000,$faaa,
     $202b,$f000,$faa7,$2006,$f000,$fa7c,$2007,$f000,$faa1,$2007,$f000,$fa9e,$2017,$f000,$fa9b,$20f8,
     $f000,$fa70,$2060,$f000,$fa95,$20a5,$f000,$fa92,$20f8,$f000,$fa67,$2089,$f000,$fa8c,$20a5,$f000,
     $fa89,$20f8,$f000,$fa5e,$2090,$f000,$fa83,$2000,$f000,$fa80,$20f8,$f000,$fa55,$2093,$f000,$fa7a,
     $202a,$f000,$fa77,$20f8,$f000,$fa4c,$20a0,$f000,$fa71,$20a5,$f000,$fa6e,$20f8,$f000,$fa43,$20a1,
     $f000,$fa68,$2000,$f000,$fa65,$20f8,$f000,$fa3a,$2073,$f000,$fa5f,$2041,$f000,$fa5c,$2016,$f000,
     $fa31,$2000,$f000,$fa56,$2004,$f000,$fa2b,$f000,$fa79,$2000,$f000,$fa26,$20bf,$f000,$fa4b,$2030,
     $f000,$fa20,$2090,$f000,$fa45,$2061,$f000,$fa1a,$2000,$f000,$fa3f,$20b0,$f000,$fa3c,$2001,$f000,
     $fa39,$2008,$f000,$fa36,$2082,$f000,$fa0b,$2012,$f000,$fa30,$2050,$f000,$fa05,$2097,$f000,$fa2a,
     $46c0,$46bd,$bd80,$b580,$b590,$b087,$af00,$6078,$2010,$f000,$f9f7,$2300,$617b,$e0a8,$230a,$18fb,
     $2200,$701a,$2300,$613b,$e094,$697b,$005a,$693b,$18d3,$687a,$18d2,$230b,$18fb,$7812,$701a,$2300,
     $60fb,$e080,$2009,$183b,$220b,$18ba,$7812,$213f,$438a,$701a,$183b,$781b,$2bc0,$d107,$220a,$18bb,
     $18ba,$7812,$2101,$430a,$701a,$e01c,$2309,$18fb,$781b,$2b00,$d105,$220a,$18bb,$18ba,$7812,$701a,
     $e011,$2309,$18fb,$781b,$2b80,$d107,$220a,$18bb,$18ba,$7812,$2101,$430a,$701a,$e004,$220a,$18bb,
     $18ba,$7812,$701a,$200a,$183a,$183b,$781b,$18db,$7013,$210b,$187b,$187a,$7812,$0092,$701a,$2409,
     $193b,$187a,$7812,$213f,$438a,$701a,$193b,$781b,$2bc0,$d106,$183b,$183a,$7812,$2101,$430a,$701a,
     $e01c,$2309,$18fb,$781b,$2b00,$d105,$220a,$18bb,$18ba,$7812,$701a,$e011,$2309,$18fb,$781b,$2b80,
     $d107,$220a,$18bb,$18ba,$7812,$2101,$430a,$701a,$e004,$220a,$18bb,$18ba,$7812,$701a,$693b,$2b01,
     $d102,$68fb,$2b01,$d005,$230a,$18fa,$18fb,$781b,$18db,$7013,$220b,$18bb,$18ba,$7812,$0092,$701a,
     $68fb,$3301,$60fb,$68fb,$2b01,$d800,$e77a,$693b,$3301,$613b,$693b,$2b01,$d800,$e766,$230a,$18fb,
     $781b,$0018,$f000,$f976,$697b,$3301,$617b,$697b,$4a62,$4293,$d800,$e751,$2013,$f000,$f943,$2300,
     $617b,$e0a8,$230a,$18fb,$2200,$701a,$2300,$613b,$e094,$697b,$005a,$693b,$18d3,$687a,$18d2,$230b,
     $18fb,$7812,$701a,$2300,$60fb,$e080,$2009,$183b,$220b,$18ba,$7812,$213f,$438a,$701a,$183b,$781b,
     $2bc0,$d107,$220a,$18bb,$18ba,$7812,$2101,$430a,$701a,$e01c,$2309,$18fb,$781b,$2b00,$d105,$220a,
     $18bb,$18ba,$7812,$701a,$e011,$2309,$18fb,$781b,$2b80,$d105,$220a,$18bb,$18ba,$7812,$701a,$e006,
     $220a,$18bb,$18ba,$7812,$2101,$430a,$701a,$200a,$183a,$183b,$781b,$18db,$7013,$210b,$187b,$187a,
     $7812,$0092,$701a,$2409,$193b,$187a,$7812,$213f,$438a,$701a,$193b,$781b,$2bc0,$d106,$183b,$183a,
     $7812,$2101,$430a,$701a,$e01c,$2309,$18fb,$781b,$2b00,$d105,$220a,$18bb,$18ba,$7812,$701a,$e011,
     $2309,$18fb,$781b,$2b80,$d105,$220a,$18bb,$18ba,$7812,$701a,$e006,$220a,$18bb,$18ba,$7812,$2101,
     $430a,$701a,$693b,$2b01,$d102,$68fb,$2b01,$d005,$230a,$18fa,$18fb,$781b,$18db,$7013,$220b,$18bb,
     $18ba,$7812,$0092,$701a,$68fb,$3301,$60fb,$68fb,$2b01,$d800,$e77a,$693b,$3301,$613b,$693b,$2b01,
     $d800,$e766,$230a,$18fb,$781b,$0018,$f000,$f8c2,$697b,$3301,$617b,$697b,$4a08,$4293,$d800,$e751,
     $f000,$f978,$2012,$f000,$f88d,$20c8,$f000,$f9f6,$f000,$f8d8,$46c0,$46bd,$b007,$bd90,$16af,$0000,
     $b580,$af00,$b403,$4905,$600d,$604e,$608f,$4640,$60c8,$bc03,$46c0,$46bd,$bd80,$0000,$43ec,$2000,
     $b580,$b084,$af00,$60f8,$60b9,$607a,$603b,$4b1c,$687a,$601a,$4b1b,$68fa,$601a,$4b1b,$683a,$601a,
     $4b1a,$68ba,$601a,$4b1a,$2212,$601a,$4b19,$2213,$601a,$4b13,$681b,$b29b,$2101,$0018,$f000,$f9cc,
     $4b10,$681b,$b29b,$2101,$0018,$f000,$f9c5,$4b0f,$681b,$b29b,$2101,$0018,$f000,$f9be,$4b0a,$681b,
     $b29b,$2100,$0018,$f000,$f9b7,$4b08,$681b,$b29b,$2101,$0018,$f000,$f9da,$46c0,$46bd,$b004,$bd80,
     $4368,$2000,$4360,$2000,$4354,$2000,$435c,$2000,$4358,$2000,$4364,$2000,$b580,$af00,$4b10,$681b,
     $b29b,$2101,$0018,$f000,$f9c1,$20c8,$f000,$f986,$4b0b,$681b,$b29b,$2100,$0018,$f000,$f9b7,$2002,
     $f000,$f97c,$4b06,$681b,$b29b,$2101,$0018,$f000,$f9ad,$20c8,$f000,$f972,$46c0,$46bd,$bd80,$46c0,
     $4368,$2000,$b580,$b082,$af00,$0002,$1dfb,$701a,$4b0e,$681b,$b29b,$2100,$0018,$f000,$f997,$4b0c,
     $681b,$b29b,$2100,$0018,$f000,$f990,$1dfb,$781b,$0018,$f000,$f9a5,$4b06,$681b,$b29b,$2101,$0018,
     $f000,$f984,$46c0,$46bd,$b002,$bd80,$4360,$2000,$435c,$2000,$b580,$b082,$af00,$0002,$1dfb,$701a,
     $4b0e,$681b,$b29b,$2101,$0018,$f000,$f96f,$4b0c,$681b,$b29b,$2100,$0018,$f000,$f968,$1dfb,$781b,
     $0018,$f000,$f97d,$4b06,$681b,$b29b,$2101,$0018,$f000,$f95c,$46c0,$46bd,$b002,$bd80,$4360,$2000,
     $435c,$2000,$b590,$b083,$af00,$2071,$f7ff,$ffaa,$4b0e,$681b,$b29b,$1dfc,$0018,$f000,$f977,$0003,
     $7023,$1dfb,$781b,$2201,$4013,$425a,$4153,$b2da,$1dfb,$701a,$1dfb,$781b,$2b00,$d1e6,$20c8,$f000,
     $f8fd,$46c0,$46bd,$b003,$bd90,$46c0,$4354,$2000,$b580,$b082,$af00,$2020,$f7ff,$ff84,$2300,$607b,
     $e009,$4a2f,$687b,$18d3,$781b,$0018,$f7ff,$ffa2,$687b,$3301,$607b,$687b,$2b2b,$d9f2,$2021,$f7ff,
     $ff71,$2300,$607b,$e009,$4a26,$687b,$18d3,$781b,$0018,$f7ff,$ff8f,$687b,$3301,$607b,$687b,$2b29,
     $d9f2,$2022,$f7ff,$ff5e,$2300,$607b,$e009,$4a1e,$687b,$18d3,$781b,$0018,$f7ff,$ff7c,$687b,$3301,
     $607b,$687b,$2b29,$d9f2,$2023,$f7ff,$ff4b,$2300,$607b,$e009,$4a15,$687b,$18d3,$781b,$0018,$f7ff,
     $ff69,$687b,$3301,$607b,$687b,$2b29,$d9f2,$2024,$f7ff,$ff38,$2300,$607b,$e009,$4a0d,$687b,$18d3,
     $781b,$0018,$f7ff,$ff56,$687b,$3301,$607b,$687b,$2b29,$d9f2,$46c0,$46c0,$46bd,$b002,$bd80,$46c0,
     $de30,$1000,$de5c,$1000,$de88,$1000,$deb4,$1000,$dee0,$1000,$b580,$b082,$af00,$2020,$f7ff,$ff12,
     $2300,$607b,$e009,$4a38,$687b,$18d3,$781b,$0018,$f7ff,$ff30,$687b,$3301,$607b,$687b,$2b2b,$d9f2,
     $2021,$f7ff,$feff,$2300,$607b,$e009,$4a2f,$687b,$18d3,$781b,$0018,$f7ff,$ff1d,$687b,$3301,$607b,
     $687b,$2b29,$d9f2,$2022,$f7ff,$feec,$2300,$607b,$e009,$4a27,$687b,$18d3,$781b,$0018,$f7ff,$ff0a,
     $687b,$3301,$607b,$687b,$2b29,$d9f2,$2023,$f7ff,$fed9,$2300,$607b,$e009,$4a1e,$687b,$18d3,$781b,
     $0018,$f7ff,$fef7,$687b,$3301,$607b,$687b,$2b29,$d9f2,$2024,$f7ff,$fec6,$2300,$607b,$e009,$4a16,
     $687b,$18d3,$781b,$0018,$f7ff,$fee4,$687b,$3301,$607b,$687b,$2b29,$d9f2,$2025,$f7ff,$feb3,$2300,
     $607b,$e009,$4a09,$687b,$18d3,$781b,$0018,$f7ff,$fed1,$687b,$3301,$607b,$687b,$2b29,$d9f2,$46c0,
     $46c0,$46bd,$b002,$bd80,$df0c,$1000,$df38,$1000,$df64,$1000,$df90,$1000,$dfbc,$1000,$b580,$b082,
     $af00,$6078,$687b,$0018,$f000,$f872,$46c0,$46bd,$b002,$bd80,$0000,$b580,$b580,$b082,$af00,$0002,
     $1dbb,$801a,$1d3b,$1c0a,$801a,$1dbb,$881b,$0018,$f000,$f86e,$1d3b,$881b,$2b00,$d003,$1d3b,$881b,
     $2b00,$d106,$1dbb,$881b,$2100,$0018,$f000,$f87c,$e006,$1dbb,$881b,$2101,$0018,$f000,$f875,$46c0,
     $46c0,$46bd,$b002,$bd80,$b580,$b082,$b580,$b082,$af00,$0002,$1dbb,$801a,$1d7b,$1c0a,$701a,$1dbb,
     $881a,$1d7b,$781b,$1e59,$418b,$b2db,$0019,$0010,$f000,$f878,$46c0,$46bd,$b002,$bd80,$b580,$b082,
     $b580,$b084,$af00,$0002,$1dfb,$701a,$1dfb,$781b,$60fb,$230c,$18f9,$2394,$2203,$2001,$f000,$f880,
     $46c0,$46bd,$b004,$bd80,$b580,$b082,$b580,$b082,$af00,$0002,$1dbb,$801a,$1dbb,$881b,$0018,$f000,
     $f887,$0003,$0018,$46bd,$b002,$bd80,$b580,$b082,$b580,$b082,$af00,$6078,$6878,$239a,$2200,$2100,
     $f000,$f85e,$46c0,$46bd,$b002,$bd80,$b580,$b084,$b580,$b082,$af00,$6078,$23d0,$061b,$2101,$687a,
     $4091,$000a,$629a,$23d0,$061b,$2101,$687a,$4091,$000a,$619a,$687b,$2105,$0018,$f000,$f86d,$46c0,
     $46bd,$b002,$bd80,$0000,$b580,$b084,$af00,$6078,$000a,$1cfb,$701a,$2201,$687b,$409a,$0013,$60fb,
     $1cfb,$781b,$2b00,$d004,$68fb,$0018,$f000,$f88a,$e003,$68fb,$0018,$f000,$f893,$46c0,$46bd,$b004,
     $bd80,$b580,$b580,$b084,$af00,$6078,$000a,$1cfb,$701a,$2201,$687b,$409a,$0013,$60fb,$1cfb,$781b,
     $2b00,$d004,$68fb,$0018,$f000,$f888,$e003,$68fb,$0018,$f000,$f891,$46c0,$46bd,$b004,$bd80,$b580,
     $b590,$b087,$af00,$60f8,$60b9,$607a,$603b,$4b07,$68db,$617b,$683b,$687a,$68b9,$68f8,$697c,$47a0,
     $0003,$0018,$46bd,$b007,$bd90,$46c0,$43ec,$2000,$b580,$b082,$af00,$6078,$23d0,$061b,$685a,$687b,
     $40da,$0013,$2201,$4013,$1e5a,$4193,$b2db,$0018,$46bd,$b002,$bd80,$b580,$b580,$b088,$af00,$6078,
     $000a,$1cfb,$701a,$687b,$0018,$f000,$f863,$687b,$009b,$4a12,$4694,$4463,$61fb,$2340,$61bb,$23c0,
     $617b,$69fb,$681a,$69bb,$4053,$697a,$4013,$69fa,$613a,$60fb,$693b,$2280,$0152,$4313,$68fa,$601a,
     $46c0,$46c0,$4906,$1cfb,$781a,$687b,$00db,$18cb,$3304,$601a,$46c0,$46bd,$b008,$bd80,$c004,$4001,
     $4000,$4001,$b580,$b082,$af00,$6078,$23d0,$061b,$687a,$625a,$46c0,$46bd,$b002,$bd80,$b580,$b082,
     $b580,$b082,$af00,$6078,$23d0,$061b,$687a,$629a,$46c0,$46bd,$b002,$bd80,$b580,$b084,$b580,$b082,
     $af00,$6078,$23d0,$061b,$687a,$615a,$46c0,$46bd,$b002,$bd80,$b580,$b082,$b580,$b082,$af00,$6078,
     $23d0,$061b,$687a,$619a,$46c0,$46bd,$b002,$bd80,$b580,$b084,$b580,$b082,$af00,$6078,$46c0,$46bd,
     $b002,$bd80,$0000,$b580

REM 0 bytes
LABEL C_RODATA
